assert(hasProperty("bnd_targetDir"))


ext.bnd_buildP2IndexRootMain   = "$bnd_targetDir/p2"
ext.bnd_buildP2IndexRootExtras = "$bnd_targetDir/extras/p2/child"
ext.bnd_buildP2IndexTreeMain   = fileTree("$bnd_buildP2IndexRootMain/plugins"  ).include("**/*.jar")
ext.bnd_buildP2IndexTreeExtras = fileTree("$bnd_buildP2IndexRootExtras/plugins").include("**/*.jar")

/* Index task overrides */
ext.gradleBuild_indexDirectories      = \
  "$bnd_buildP2IndexRootMain  ;Bndtools       ;bnd_buildP2IndexTreeMain," +
  "$bnd_buildP2IndexRootExtras;Bndtools Extras;bnd_buildP2IndexTreeExtras"

/* Default tasks override */
defaultTasks "dist"


/* the main feature */
ext.p2_main = [
    "bndtools.api",
    "bndtools.builder",
    "bndtools.core",
    "bndtools.jareditor",
    "bndtools.release",
    "bndtools.repository.base",
    "bndtools.repository.maven",
    "org.bndtools.embeddedrepo",
    "org.bndtools.headless.build.manager",
    "org.bndtools.headless.build.plugin.ant",
    "org.bndtools.headless.build.plugin.gradle",
    "org.bndtools.versioncontrol.ignores.manager",
    "org.bndtools.versioncontrol.ignores.plugin.git"
  ]

/* the extras feature */
ext.p2_extras = [
    "bndtools.repository.amdatu",
    "bndtools.template.amdatu",
    "bndtools.template.dm"
  ]
